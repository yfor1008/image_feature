# Hough变换

## Hougu 变换原理

Hough 变换可以用于检测指定的直线或曲线, 下面以直线为例.

设直线 $l$ 斜截式方程为:
$$
y=kx+b
$$
在 $xy$ 平面中, 直线上的任意点 $(x_i,y_i)$ 都对应相同的 $k$ 和 $b$ .

将上式更改为:
$$
b=-xk+y
$$
在 $kb$ 平面中, $x$ 和 $y$ 可以确定一条直线, 不同的 $x$ 和 $y$ 构成不同的直线. 这里有一个重要的结论: **在 $xy$ 平面共线(在同一条直线上)的点集 $P_{xy}(x_i,y_i)$ 在 $kb$ 平面构成的直线相交于同一点**.

因而, Hough 变换的原理为: **在参数平面相交于同一点 $(k,b)$ 的 n 条直线, 在图像平面中这 n 个点共线于由 $k$ 和 $b$ 构成的直线**.

## Hough 变换步骤

1. 由于实际的处理过程为离散的, 因而需将参数空间按精度要求进行细分, 横轴为 $k$ , 纵轴为 $b$ , 细分后的参数网格用 $A(i,j)$ 表示
2. 对图像平面中的每个点 $(x,y)$ , 利用公式计算每个参数 $k_i$ 对应的 $b_i$, 在参数网格上找到最接近的值 $(p,q)$
3. 将对应的参数网格进行累加: $A(p,q)=A(p,q)+1$
4. 最后 $A(i,j)$ 的值 n 表示在图像平面有 n 个点共线于直线 $y=k_ix+b_i$

当斜率 $k$ 为无穷大时, 采用上述方程不方便表示, 也不利于进行计算, 因而可以进行极坐标变换, 将直线方程更改为:
$$
\rho=xcos\theta+ysin\theta
$$
式中, $\theta$ 取值范围为[-90°, 90°], 或者[0°, 180°], $\rho$ 的取值范围为[-D, D], D为图像对角线长度.